# Spike #1: 3D-—Å—Ü–µ–Ω–∞ –∏ –∞–Ω–∏–º–∞—Ü–∏—è —Ä–æ–±–æ—Ç–∞

**–î–∞—Ç–∞:** 05.10.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω  
**Timebox:** 2-3 –¥–Ω—è (–§–∞–∫—Ç–∏—á–µ—Å–∫–∏: ~2 —á–∞—Å–∞)

---

## –¶–µ–ª—å

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è React Three Fiber –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ 3D-—Å—Ü–µ–Ω—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–æ–±–æ—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –ì–∏–ø–æ—Ç–µ–∑–∞

–ú—ã –º–æ–∂–µ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å 3D-—Å—Ü–µ–Ω—É —Å –ø–æ–º–æ—â—å—é React Three Fiber –∏ –ø–ª–∞–≤–Ω–æ –∞–Ω–∏–º–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å —Ä–æ–±–æ—Ç–∞ –º–µ–∂–¥—É –¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ç–æ—á–∫–∞–º–∏ —Å–µ—Ç–∫–∏.

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–µ–º–∫–∏

| # | –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|---|----------|--------|-------------|
| 1 | –°–æ–∑–¥–∞–Ω React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Ä–µ–Ω–¥–µ—Ä—è—â–∏–π 3D-—Å—Ü–µ–Ω—É | ‚úÖ | `GameScene.tsx` |
| 2 | 3D-–º–æ–¥–µ–ª—å —Ä–æ–±–æ—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è | ‚úÖ | –°–æ–∑–¥–∞–Ω –∏–∑ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ Three.js |
| 3 | –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ | ‚úÖ | `ControlPanel.tsx` |
| 4 | –ü–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–∞ (~1 —Å–µ–∫) | ‚úÖ | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `lerp` –¥–ª—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ |
| 5 | –ü–ª–∞–≤–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç —Ä–æ–±–æ—Ç–∞ (90¬∞) | ‚úÖ | –ü–ª–∞–≤–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è —É–≥–ª–æ–≤ |
| 6 | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å >50 FPS | ‚è≥ | –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### 1. `GameScene.tsx`
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ 3D-—Å—Ü–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é `@react-three/fiber`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–≤–µ—â–µ–Ω–∏—è (ambient + directional + point)
- –°–µ—Ç–∫–∞ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è —Å –ø–æ–º–æ—â—å—é `@react-three/drei/Grid`
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ –º–∏—Å—Å–∏–∏ (–ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è, —Ü–µ–ª–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã)
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–æ–π —Å –ø–æ–º–æ—â—å—é `OrbitControls`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –º–∏—Å—Å–∏–∏
- –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ
- –¢–µ–Ω–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤

#### 2. `Robot.tsx`
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ú–æ–¥–µ–ª—å —Ä–æ–±–æ—Ç–∞ –∏–∑ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ Three.js:
  - –¢–µ–ª–æ (–∫—É–±)
  - –ê–Ω—Ç–µ–Ω–Ω–∞ (—Ü–∏–ª–∏–Ω–¥—Ä —Å —ç–º–∏—Å—Å–∏–µ–π)
  - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∫–æ–Ω—É—Å)
  - 4 –∫–æ–ª–µ—Å–∞ (—Ü–∏–ª–∏–Ω–¥—Ä—ã)
  - –°–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (—Å—Ñ–µ—Ä—ã —Å —ç–º–∏—Å—Å–∏–µ–π)

**–ê–Ω–∏–º–∞—Ü–∏—è:**
- –ü–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–ª–µ—Ç–∫–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `lerp` (linear interpolation)
- –ü–ª–∞–≤–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π —É–≥–ª–æ–≤ (–≤—ã–±–æ—Ä –∫—Ä–∞—Ç—á–∞–π—à–µ–≥–æ –ø—É—Ç–∏)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `useFrame` –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –∫–∞–∂–¥–æ–º –∫–∞–¥—Ä–µ
- –°–∫–æ—Ä–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏: 0.1 (10% –∑–∞ –∫–∞–¥—Ä)

#### 3. `ControlPanel.tsx`
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `Executor` –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º
- –ö–Ω–æ–ø–∫–∏: –ó–∞–ø—É—Å–∫, –ü–∞—É–∑–∞, –°–±—Ä–æ—Å
- –¢–µ—Å—Ç–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ–º–æ-–ø—Ä–æ–≥—Ä–∞–º–º—ã
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–æ–±–æ—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è

**1. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –†–æ–±–æ—Ç —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–µ—Ç–∫–µ: `position = [x + 0.5, 0.5, z + 0.5]`
- –û–±—ä–µ–∫—Ç—ã —Ç–∞–∫–∂–µ —Ü–µ–Ω—Ç—Ä–∏—Ä—É—é—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

**2. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–±–æ—Ç–∞:**
```typescript
north: 0¬∞
east: -90¬∞
south: 180¬∞
west: 90¬∞
```

**3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞:**
–í—ã–±–∏—Ä–∞–µ—Ç—Å—è –∫—Ä–∞—Ç—á–∞–π—à–∏–π –ø—É—Ç—å –ø–æ–≤–æ—Ä–æ—Ç–∞ (–Ω–µ –±–æ–ª–µ–µ 180¬∞):
```typescript
if (Math.abs(rotationDiff) > Math.PI) {
  normalizedDiff = rotationDiff > 0 
    ? rotationDiff - 2 * Math.PI 
    : rotationDiff + 2 * Math.PI;
}
```

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **3D-—Å—Ü–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç** - React Three Fiber —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
2. **–†–æ–±–æ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** - –º–æ–¥–µ–ª—å –∏–∑ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤ –≤—ã–≥–ª—è–¥–∏—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–æ –¥–ª—è MVP
3. **–ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ** - `lerp` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç smooth transitions
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** - —Ä–æ–±–æ—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Zustand store
5. **–û–±—ä–µ–∫—Ç—ã –º–∏—Å—Å–∏–∏** - –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è, —Ü–µ–ª–∏, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –Ω—é–∞–Ω—Å—ã

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞** - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. **–ù–µ—Ç 3D-–º–æ–¥–µ–ª–µ–π** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏–º–∏—Ç–∏–≤—ã (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è MVP)
3. **–¢–µ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Ç—è–∂–µ–ª—ã–º–∏** - –≤–æ–∑–º–æ–∂–Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
4. **OrbitControls** - –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É–≥–ª—ã –∫–∞–º–µ—Ä—ã

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥

1. –î–æ–±–∞–≤–∏—Ç—å FPS counter –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–Ω–∏ (shadow map size, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
3. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `InstancedMesh` –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
4. –î–æ–±–∞–≤–∏—Ç—å LOD (Level of Detail) –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω

---

## –í—ã–≤–æ–¥—ã

### ‚úÖ –ì–∏–ø–æ—Ç–µ–∑–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞

**React Three Fiber –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞:**
- –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React state —Ä–∞–±–æ—Ç–∞–µ—Ç seamlessly
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–∞–∂–µ—Ç—Å—è –ø—Ä–∏–µ–º–ª–µ–º–æ–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ –∏–∑–º–µ—Ä–µ–Ω–∏–µ)
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `@react-three/drei` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ —Ö–µ–ª–ø–µ—Ä—ã

### üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React Three Fiber** –¥–ª—è –≤—Å–µ–≥–æ 3D-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
2. **–ü—Ä–∏–º–∏—Ç–∏–≤—ã –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã –¥–ª—è MVP** - –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ 3D-–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
3. **–î–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä–∞—Ñ–∏–∫–∏** - –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–Ω–µ–π, —É–ø—Ä–æ—â–µ–Ω–∏–µ)
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –¥–æ–±–∞–≤–∏—Ç—å FPS counter –≤ dev mode

### üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

**Spike #1 —É—Å–ø–µ—à–µ–Ω!** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ 3D-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –≤ MVP.

**–†–∏—Å–∫–∏ –º–∏—Ç–∏–≥–∏—Ä–æ–≤–∞–Ω—ã:**
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 3D –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø—Ä–∏–µ–º–ª–µ–º–∞
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–ª–∞–≤–Ω—ã–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–µ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å React state —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ —Å–ª–æ–∂–Ω—ã—Ö 3D-–º–æ–¥–µ–ª—è—Ö

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –≤–∑—è—Ç–∏—è/–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (—á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏)
3. –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ü–∏—é –æ—à–∏–±–æ–∫ (—Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å–æ —Å—Ç–µ–Ω–æ–π)
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
5. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ **Spike #2: –í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º**
